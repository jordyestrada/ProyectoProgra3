<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.TextFlow?>

<!--
  Detalle de Espacio
  Sistema de Reservas - Municipalidad de PÃ©rez ZeledÃ³n
  
  Estructura:
  - BorderPane con Navbar y Sidebar
  - Centro: ScrollPane con breadcrumb, imÃ¡genes, info, descripciÃ³n, caracterÃ­sticas y horarios
-->

<BorderPane fx:id="rootPane" prefHeight="900.0" prefWidth="1440.0" styleClass="border-pane-root" stylesheets="@../styles.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="cr.una.reservas.frontend.ui.EspacioDetalleController">
    
    <!-- NAVBAR -->
    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="72.0" spacing="16.0" styleClass="navbar">
            <ImageView fitHeight="40.0" preserveRatio="true">
                <!-- Logo aquÃ­ -->
            </ImageView>
            <Label styleClass="navbar-title" text="Sistema de Reservas" />
            <Region HBox.hgrow="ALWAYS" />
            <Button styleClass="button-icon" text="ðŸ””" />
            <Label styleClass="navbar-user" text="Usuario" />
        </HBox>
    </top>
    
    <!-- SIDEBAR -->
    <left>
        <VBox prefWidth="280.0" spacing="8.0" styleClass="sidebar">
            <!-- User Info -->
            <VBox alignment="CENTER" spacing="8.0" styleClass="sidebar-user-info">
                <ImageView fitHeight="64.0" fitWidth="64.0" preserveRatio="true" styleClass="sidebar-avatar" />
                <Label styleClass="sidebar-username" text="Usuario" />
                <Label styleClass="sidebar-role" text="Cliente" />
            </VBox>
            <Separator />
            
            <!-- Menu Items -->
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="menu-item" text="ðŸ“Š Dashboard" />
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="menu-item, menu-item-active" text="ðŸ¢ Espacios" />
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="menu-item" text="ðŸ“… Mis Reservas" />
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="menu-item" text="ðŸ“† Calendario" />
            <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="menu-item" text="âš™ï¸ ConfiguraciÃ³n" />
        </VBox>
    </left>
    
    <!-- CONTENT -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane-transparent">
            <VBox alignment="CENTER_RIGHT" spacing="24.0" styleClass="content-container">
                <padding>
                    <Insets bottom="32" left="32" right="32" top="32" />
                </padding>
                
                <!-- Breadcrumb -->
                <HBox alignment="CENTER_LEFT" prefHeight="40.0" spacing="8.0">
                    <Button fx:id="volverBtn" onAction="#handleVolver" styleClass="button-link" text="â† Volver">
                    </Button>
                    <Label styleClass="text-muted" text="/" />
                    <Label styleClass="text-muted" text="Espacios" />
                    <Label styleClass="text-muted" text="/" />
                    <Label fx:id="breadcrumbLabel" styleClass="label-bold" text="Detalle" />
                </HBox>
                
                <!-- Main Content -->
                <HBox alignment="CENTER_LEFT" spacing="32.0">
                    <!-- Image Section (60%) -->
                    <VBox prefWidth="60.0" spacing="12.0" HBox.hgrow="ALWAYS">
                       
                                <!-- Info Section (40%) -->
                       <VBox alignment="CENTER" prefHeight="978.0" prefWidth="520.0" spacing="16.0">
                           <!-- Nombre -->
                           <Label fx:id="nombreLabel" styleClass="text-h2" text="SalÃ³n de Eventos Municipal" wrapText="true">
                        </Label>
                           
                                    <!-- Rating -->
                           <HBox alignment="CENTER_LEFT" spacing="4.0">
                               <Label styleClass="rating-stars" text="â­â­â­â­â­" />
                               <Label fx:id="ratingLabel" styleClass="text-muted" text="4.8 (24 reseÃ±as)" />
                           </HBox>
                           
                                    <!-- Tipo -->
                           <Label fx:id="tipoBadge" styleClass="badge-info" text="SalÃ³n de Eventos" />
                           
                                    <!-- Capacidad -->
                           <HBox alignment="CENTER_LEFT" spacing="8.0">
                               <Label styleClass="info-icon" text="ðŸ‘¥" />
                               <Label fx:id="capacidadLabel" styleClass="text-body" text="Capacidad: 200 personas" />
                           </HBox>
                           
                                    <Separator />
                           
                                    <!-- Precio -->
                           <VBox spacing="4.0">
                               <Label styleClass="text-muted" text="Precio por hora" />
                               <Label fx:id="precioLabel" styleClass="price-large" text="â‚¡15,000" />
                           </VBox>
                           
                                    <!-- BotÃ³n Reservar -->
                           <Button fx:id="reservarBtn" maxWidth="Infinity" onAction="#handleReservar" prefHeight="56.0" styleClass="button-primary" text="Reservar Ahora">
                               <VBox.margin>
                                   <Insets top="16" />
                               </VBox.margin>
                           </Button>
                           
                                    <!-- Features -->
                           <VBox fx:id="featuresContainer" spacing="12.0">
                               <padding>
                                   <Insets top="16" />
                               </padding>
                               
                                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                                   <Label styleClass="feature-check" text="âœ“" />
                                   <Label styleClass="text-body" text="Aire acondicionado" />
                               </HBox>
                               
                                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                                   <Label styleClass="feature-check" text="âœ“" />
                                   <Label styleClass="text-body" text="Sistema de sonido" />
                               </HBox>
                               
                                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                                   <Label styleClass="feature-check" text="âœ“" />
                                   <Label styleClass="text-body" text="Proyector" />
                               </HBox>
                               
                                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                                   <Label styleClass="feature-check" text="âœ“" />
                                   <Label styleClass="text-body" text="WiFi gratuito" />
                               </HBox>
                           </VBox>
                       </VBox>
                        <!-- Main Image -->
                        <ImageView fx:id="mainImage" fitHeight="500.0" fitWidth="800.0" preserveRatio="false" styleClass="image-main">
                        </ImageView>
                        
                        <!-- Thumbnails -->
                        <HBox fx:id="thumbnailsContainer" alignment="CENTER" prefHeight="100.0" spacing="12.0">
                            <!-- Thumbnails se agregarÃ¡n dinÃ¡micamente -->
                            <ImageView fx:id="thumbnail1" fitHeight="100.0" fitWidth="120.0" onMouseClicked="#handleThumbnailClick" preserveRatio="true" styleClass="image-thumbnail">
                            </ImageView>
                            <ImageView fx:id="thumbnail2" fitHeight="100.0" fitWidth="120.0" onMouseClicked="#handleThumbnailClick" preserveRatio="true" styleClass="image-thumbnail">
                            </ImageView>
                            <ImageView fx:id="thumbnail3" fitHeight="100.0" fitWidth="120.0" onMouseClicked="#handleThumbnailClick" preserveRatio="true" styleClass="image-thumbnail">
                            </ImageView>
                        </HBox>
                    </VBox>
                </HBox>
                
                <!-- Description Section -->
                <VBox spacing="16.0" styleClass="description-section">
                    <padding>
                        <Insets bottom="16" top="16" />
                    </padding>
                    
                    <Label styleClass="text-h4" text="DescripciÃ³n" />
                    
                    <TextFlow fx:id="descripcionTextFlow" styleClass="text-flow">
                        <!-- La descripciÃ³n se agregarÃ¡ dinÃ¡micamente -->
                    </TextFlow>
                </VBox>
                
                <!-- CaracterÃ­sticas Section -->
                <VBox spacing="24.0">
                    <Label styleClass="text-h4" text="CaracterÃ­sticas" />
                    
                    <GridPane fx:id="caracteristicasGrid" hgap="24.0" vgap="16.0">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="50.0" />
                            <ColumnConstraints percentWidth="50.0" />
                        </columnConstraints>
                        
                        <!-- Las caracterÃ­sticas se agregarÃ¡n dinÃ¡micamente -->
                    </GridPane>
                </VBox>
                
                <!-- Horarios Section -->
                <VBox spacing="24.0">
                    <Label styleClass="text-h4" text="Horarios Disponibles" />
                    
                    <GridPane fx:id="calendarioGrid" hgap="8.0" vgap="8.0">
                        <!-- El calendario se agregarÃ¡ dinÃ¡micamente -->
                    </GridPane>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
    
</BorderPane>
